!function(a){"use strict";function b(b,c,d){d=a.isFunction(d)?d.bind(this):a.noop,a.isFunction(this.asyncPager)&&this.asyncPager({offset:h.call(this,b),perPage:this.perPage},function(){d(c)}.bind(this))}function c(a){this.active=a,this.page=a,this.active>this.last&&f.call(this,this.active,!0),i.call(this),g.call(this)}function d(a){this.active=a,this.active<this.first&&f.call(this,this.active),i.call(this),g.call(this)}function e(){var a=Math.max(0,this.perPage*this.active-this.perPage),b=a+this.perPage;b>this.items&&(b=this.items),this.summary=a+" - "+b}function f(a,b){var c=1,d=this.total;for(a>this.perPage?b?(c=a,d=c+(this.perPage-1),d>this.total&&(d=this.total)):(d=a,c=d-this.perPage):this.total>this.perPage&&(d=this.perPage),this.first=c,this.last=d,this.pages=[];c<=d;c++)this.pages.push(c);e.call(this)}function g(){this.prevBtn=this.hasPrevious(),this.nextBtn=this.hasNext()}function h(a){return a=a||0,1===a?0:this.perPage*a-this.perPage}function i(){this.offset=1===this.active?0:this.perPage*this.active-this.perPage,e.call(this)}a.module("hk.pager",[]).factory("Pagination",[function(){var e=function(b,c){this.page=b.page||1,this.modes=Object.freeze({ASYNC:"async",DEFAULT:"default"}),this.perPage=b.perPage||10,this.pages=[],this.prevBtn=!1,this.nextBtn=!1,this.total=b.total,this.mode=c&&a.isString(c)&&this.modes[c.toUpperCase()]?c:this.modes.DEFAULT,this.initialized=!1,this.asyncPager=a.noop};return e.prototype.init=function(){if(!this.initialized){if(this.items=this.total,this.total=Math.ceil(this.total/this.perPage),!(this.total>1))throw new Error("Page count must be at least 2.");this.page>this.total&&(this.page=this.total),this.active=this.page,f.call(this,this.page),g.call(this),i.call(this),this.initialized=!0}return this},e.prototype.next=function(a){a&&a<=this.total?this.mode===this.modes.ASYNC?b.call(this,a,a,c.bind(this)):c.call(this,a):this.hasNext()&&(this.mode===this.modes.ASYNC?b.call(this,++this.page,++this.active,c.bind(this)):c.call(this,++this.active))},e.prototype.previous=function(){this.hasPrevious()&&(this.mode===this.modes.ASYNC?b.call(this,--this.page,--this.active,d.bind(this)):d.call(this,--this.active))},e.prototype.hasNext=function(){return this.active!==this.total},e.prototype.hasPrevious=function(){return 1!==this.active},e.prototype.setAsyncHandler=function(b){this.mode===this.modes.ASYNC&&a.isFunction(b)&&(this.asyncPager=b)},e}]).directive("hkPager",["Pagination",function(a){return{restrict:"EA",scope:{hkPager:"="},template:'<nav><style> .pagination>li>a.active {background-color: #428bca;border-color: #428bca; color: #fff;}</style><ul class="pagination"><li><a href="" aria-label="Previous" ng-click="pagination.previous()" ng-if="pagination.prevBtn"> <span aria-hidden="true">&laquo;</span></a></li> <li ng-repeat="page in pagination.pages track by $index"><a href=""  ng-class="{\'active\' : page === pagination.active}"  ng-click="pagination.next(page)">{{page}}</a></li> <li><a href="" aria-label="Next" ng-click="pagination.next()" ng-if="pagination.nextBtn"> <span aria-hidden="true">&raquo;</span></a></li> </ul></nav>',link:function(b){if(!(b.hkPager instanceof a))throw new TypeError("Pagination object instance must be passed in.");b.pagination=b.hkPager}}}]).filter("offset",function(){return function(a,b){for(var c=b,d=a.length,e=[];c<d;c++)e.push(a[c]);return e}})}(angular);